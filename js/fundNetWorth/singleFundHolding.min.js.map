{"version":3,"sources":["fundNetWorth/singleFundHolding.js"],"names":["ajaxLoadSingleFundHolding","deferred","$","Deferred","postdata","fundCode","filterXSS","sessionStorage","getItem","ajax","url","Constants","getSingleFundHoldingUrl","type","data","done","response","console","log","length","RawStocks","companyStocks","_","filter","ImportType","countryStocks","typeStocks","companyStocksHtml","typeStocksHtml","countryStocksHtml","push","each","index","item","itemProportion","Proportion","toFixed","Company","html","join","Types","Country","resolve","promise","document","on","event","App","StartLoading","loadWarning","when","StopLoading"],"mappings":"AAAA,QAASA,6BACR,GAAIC,GAAWC,EAAEC,WACXC,IA8DN,OA7DEA,GAASC,SAAWC,UAAUC,eAAeC,QAAQ,sBACvDN,EAAEO,MACDC,IAAKC,UAAUC,0BACVC,KAAK,MACLC,KAAKV,IACNW,KAAK,SAASC,GAChBC,QAAQC,IAAI,kBAAkBF,EAASG,OACrC,IAAIC,GAAYJ,EACZK,EAAgBC,EAAEC,OAAOH,GAAWI,WAAa,MACjDC,EAAgBH,EAAEC,OAAOH,GAAWI,WAAa,MACjDE,EAAaJ,EAAEC,OAAOH,GAAWI,WAAa,MAC9CG,KAAqBC,KAAkBC,IAG3CF,GAAkBG,KAAK,oEACpBT,GAAiBA,EAAcF,OAAS,EACzCjB,EAAE6B,KAAKV,EAAe,SAASW,EAAOC,GACpC,GAAIC,IAAoC,IAAlBD,EAAKE,YAAkBC,QAAQ,EACrDT,GAAkBG,KAAK,YACvBH,EAAkBG,KAAK,eAAiBG,EAAKI,QAAU,gBACvDV,EAAkBG,KAAK,eAAiBI,EAAiB,iBACzDP,EAAkBG,KAAK,eAGzBH,EAAkBG,KAAK,uEAGzB5B,EAAE,uBAAuBoC,KAAKX,EAAkBY,KAAK,MAGrDX,EAAeE,KAAK,oEACjBJ,GAAcA,EAAWP,OAAS,EACnCjB,EAAE6B,KAAKL,EAAY,SAASM,EAAOC,GACjC,GAAIC,IAAoC,IAAlBD,EAAKE,YAAkBC,QAAQ,EACrDR,GAAeE,KAAK,YACpBF,EAAeE,KAAK,eAAiBG,EAAKO,MAAQ,gBAClDZ,EAAeE,KAAK,eAAiBI,EAAiB,iBACtDN,EAAeE,KAAK,eAGtBF,EAAeE,KAAK,uEAEtB5B,EAAE,oBAAoBoC,KAAKV,EAAeW,KAAK,MAG/CV,EAAkBC,KAAK,oEACpBL,GAAiBA,EAAcN,OAAS,EACzCjB,EAAE6B,KAAKN,EAAe,SAASO,EAAOC,GACpC,GAAIC,IAAoC,IAAlBD,EAAKE,YAAkBC,QAAQ,EACrDP,GAAkBC,KAAK,YACvBD,EAAkBC,KAAK,6BAA+BG,EAAKQ,QAAU,gBACrEZ,EAAkBC,KAAK,eAAiBI,EAAiB,iBACzDL,EAAkBC,KAAK,eAGzBD,EAAkBC,KAAK,uEAEzB5B,EAAE,uBAAuBoC,KAAKT,EAAkBU,KAAK,MAEtDtC,EAASyC,YAENzC,EAAS0C,UAGjBzC,EAAE0C,UAAUC,GAAI,WAAY,sBAAuB,SAASC,GAC3DC,IAAIC,eACF9C,EAAE,mBAAmB+C,cACrB/C,EAAEgD,KAAKlD,6BAA6Be,KAAK,WACxCgC,IAAII","file":"fundNetWorth/singleFundHolding.min.js","sourcesContent":["function ajaxLoadSingleFundHolding(){\n\tvar deferred = $.Deferred();\n  \tvar postdata = {};\n  \tpostdata.fundCode = filterXSS(sessionStorage.getItem(\"coalitionFundCode\"));\n\t$.ajax({\n\t\turl: Constants.getSingleFundHoldingUrl(),\n      \ttype:\"GET\",\n      \tdata:postdata\n  \t}).done(function(response){\n  \t\tconsole.log(\"response length\",response.length);\n      var RawStocks = response;\n      var companyStocks = _.filter(RawStocks,{\"ImportType\":\"1\"});\n      var countryStocks = _.filter(RawStocks,{\"ImportType\":\"2\"});\n      var typeStocks = _.filter(RawStocks,{\"ImportType\":\"3\"});\n      var companyStocksHtml=[],typeStocksHtml=[],countryStocksHtml=[];\n\n      //持股類型標題\n      companyStocksHtml.push(\" <thead><th>名稱</th><th>百分比</th></thead>\");\n      if(companyStocks && companyStocks.length > 0){\n        $.each(companyStocks, function(index, item) {\n          var itemProportion = (item.Proportion * 100).toFixed(2);\n          companyStocksHtml.push(\" <tbody>\");\n          companyStocksHtml.push(\"  <td><span>\" + item.Company + \"</span></td>\");\n          companyStocksHtml.push(\"  <td><span>\" + itemProportion + \"%\" + \"</span></td>\");\n          companyStocksHtml.push(\" </tbody>\");\n        });\n      }else{\n        companyStocksHtml.push(\" <tbody><td colspan='2'>目前無資料</td></tbody>\");\n      }\n\n      $(\"#tableCompanyStocks\").html(companyStocksHtml.join(\" \"));\n\n      //類股配置\n      typeStocksHtml.push(\" <thead><th>類別</th><th>百分比</th></thead>\");\n      if(typeStocks && typeStocks.length > 0){\n        $.each(typeStocks, function(index, item) {\n          var itemProportion = (item.Proportion * 100).toFixed(2);\n          typeStocksHtml.push(\" <tbody>\");\n          typeStocksHtml.push(\"  <td><span>\" + item.Types + \"</span></td>\");\n          typeStocksHtml.push(\"  <td><span>\" + itemProportion + \"%\" + \"</span></td>\");\n          typeStocksHtml.push(\" </tbody>\");\n        });\n      }else{\n        typeStocksHtml.push(\" <tbody><td colspan='2'>目前無資料</td></tbody>\");\n      }\n      $(\"#tableTypeStocks\").html(typeStocksHtml.join(\" \"));\n\n      //國家分佈\n      countryStocksHtml.push(\" <thead><th>國家</th><th>百分比</th></thead>\");\n      if(countryStocks && countryStocks.length > 0){\n        $.each(countryStocks, function(index, item) {\n          var itemProportion = (item.Proportion * 100).toFixed(2);\n          countryStocksHtml.push(\" <tbody>\");\n          countryStocksHtml.push(\"  <td><span class='title'>\" + item.Country + \"</span></td>\");\n          countryStocksHtml.push(\"  <td><span>\" + itemProportion + \"%\" + \"</span></td>\");\n          countryStocksHtml.push(\" </tbody>\");\n        });\n      }else{\n        countryStocksHtml.push(\" <tbody><td colspan='2'>目前無資料</td></tbody>\");\n      }\n      $(\"#tableCountryStocks\").html(countryStocksHtml.join(\" \"));\n\n \t\t  deferred.resolve();\n\t});\n\treturn deferred.promise();\n}\n\n$(document).on( \"pageinit\", \"#page-sfund-holding\", function(event) {\n\tApp.StartLoading();\n  \t$(\".numura-warning\").loadWarning();\n  \t$.when(ajaxLoadSingleFundHolding()).done(function(){\n  \t\tApp.StopLoading();\n  \t});\n});"],"sourceRoot":"/source/"}