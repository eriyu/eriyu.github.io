function ajaxLoadFundFile(){var e=$.Deferred();return $.ajax({url:Constants.getFundFileUrl(),type:"GET"}).done(function(n){var t=$(n).find("[FundConCode='"+sessionStorage.getItem("coalitionFundCode")+"']"),o=t.find("[EnName='C']"),a=o.attr("ChName");$("#btn-fundMonth").data("file",a),e.resolve()}),e.promise()}function ajaxLoadSingleFundInfo(){var e=$.Deferred(),n={};return n.fundId=filterXSS(sessionStorage.getItem("fundid")),$.ajax({url:Constants.getSingleFundInfoUrl(),type:"GET",data:n}).done(function(n){var t=n,o=[];sessionStorage.setItem("fundCode",t.FundCode),sessionStorage.setItem("coalitionFundCode",t.CoalitionFundCode),sessionStorage.setItem("FundShortName",t.FundShortName),sessionStorage.setItem("MoneyDividendTypes",JSON.stringify(t.MoneyDividendTypes)),$("#shortname").html(t.FundShortName),$("[data-role='moneytype']").loadMoneyType(t.MoneyDividendTypes),$("[data-role='page']").css({"padding-top":$("[data-role='header']").outerHeight(!0)+"px"}),$("#select-fund").loadSelectMoneyDividendTypes({moneyDividendTypes:t.MoneyDividendTypes,selectedValue:t.FundId}),$.each(Constants.getFundInfoTable(),function(e,n){var a=t[n.Key],i="",d=/\(([^)]+)\)/,s=[],l=!1;n.Type&&"Date"===n.Type&&(a=a?new Date(a).format("yyyy/mm/dd"):"N/A"),"FundScale"===n.Key&&a&&(s=d.exec(a),a=a.replace(s[0],""),i=s[1],l=!0),(n.DateKey||l)&&(n.DateKey&&(i=t[n.DateKey]?new Date(t[n.DateKey]).format("yyyy/mm/dd"):"N/A"),i="<span class='cell-date'>("+i+")</span>"),a=a?a:"N/A",o.push("<tbody>"),o.push("<tr>"),o.push("<td class='cell-caption'>"+n.Caption+"</td>"),o.push("<td class='cell-content'>"),o.push(a+" "+i),o.push("</td>"),o.push("</tr>"),o.push("</tbody>")}),$("[data-role='table']").html(o.join(" ")),e.resolve()}),e.promise()}function listFavoriteCallback(e){var n=e||[],t=sessionStorage.getItem("fundCode"),o=_.includes(n,t);$("#fav-button").toggleClass("icon-isfav",o)}$(document).on("vclick","#goto-button-block",function(e){var n=$("#button-block").offset().top,t=$("[data-role='header']").outerHeight(!0),o=n-t;$.mobile.silentScroll(o)}),$(document).on("change","#select-fund",function(e){App.StartLoading(),sessionStorage.setItem("fundid",$(this).val()),ajaxLoadSingleFundInfo().then(function(){ajaxLoadFundFile()}).done(function(){App.StopLoading()})}),$(document).on("vclick","#btn-fundMonth",function(e){var n=$(this).data("file");return _.isEmpty(n)?App.ShowAlert("\u5f88\u62b1\u6b49\uff0c\u6a94\u6848\u5c1a\u5f85\u66f4\u65b0","","\u78ba\u5b9a"):App.OpenFile(Constants.filePrefixUrl+n),!1}),$(document).on("vclick","#btn-fnr",function(e){location.href="../html/fundFeatureAndRisk.html"}),$(document).on("vclick","#btn-report",function(e){location.href="../html/singleFundReport.html"}),$(document).on("vclick","#btn-holding",function(e){location.href="../html/singleFundHolding.html"}),$(document).on("vclick","#btn-sfnw",function(e){location.href="../html/singleFundNetWorth.html"}),$(document).on("vclick","#btn-sfa",function(e){location.href="../html/singleFundAchievement.html"}),$(document).on("vclick","#btn-sff",function(e){location.href="../html/singleFundFile.html"}),$(document).on("vclick","#fav-button",function(e){var n=sessionStorage.getItem("fundCode"),t=$(this).is(".icon-isfav");t?($(this).removeClass("icon-isfav"),App.RemoveFavorite(n)):($(this).addClass("icon-isfav"),App.AddFavorite(n))}),$(document).on("pageinit","#page-sfund-info",function(e){App.StartLoading(),$(".numura-warning").loadWarning(),ajaxLoadSingleFundInfo().then(function(){ajaxLoadFundFile()}).done(function(){$("#button-block").toggleClass("show"),App.StopLoading(),$.isSales()&&($("#fav-button").removeClass("hide").addClass("inline-block"),setTimeout(App.ListFavorite(),3e3))})});
//# sourceMappingURL=singleFundInfo.min.js.map
