function ajaxFundDividendTable(){var e=$.Deferred(),t={};return t.companyId=filterXSS(sessionStorage.getItem("fundCompany"))||$("#select-company").val(),t.typeId=filterXSS(sessionStorage.getItem("fundType"))||$("#select-type").val(),t.dividendYear=filterXSS(sessionStorage.getItem("fundYear"))||$("#select-year").val(),_.isEmpty(sessionStorage.getItem("fundKeyword"))||(t.keyword=sessionStorage.getItem("fundKeyword")||$("#input-keyword").val()),$.ajax({url:Constants.getFundDividendTableUrl(),type:"GET",data:t}).done(function(t){var n=t,s=[];$.each(n,function(e,t){var n=[],a="bgcolor-"+t.MoneyTypeId.toLowerCase();_.isEmpty(t.Dividends)||($.each(t.Dividends,function(e,t){var s=new Date(t.DividendDate),a=s.format("yyyy/mm"),d=0===e?"current":"";n.push("<tbody class='"+d+"'>"),n.push("  <td>"+a+"</td>"),n.push("  <td>"+t.DividendPerUnit+"</td>"),n.push("  <td>"+t.MonthDividendRate+"</td>"),n.push("  <td>"+t.MonthReturnRate+"</td>"),n.push("  <td>"+t.YearDividendRate+"</td>"),n.push("</tbody>")}),s.push("<div class='js-fund-item' data-fundid='"+t.FundId+"''>"),s.push("<div data-role='headline'>"),s.push(" <div class='shortname'>"+t.FundShortName+"</div>"),s.push("</div>"),s.push("<div data-role='moneytype'>"),s.push(" <div class='item "+a+"'>"+t.MoneyTypeName+"</div>"),s.push("</div>"),s.push("<table data-role='table'>"),s.push(" <thead>"),s.push("   <th>\u914d\u606f<br>\u671f\u9593</th>"),s.push("   <th>\u6bcf\u55ae\u4f4d<br>\u914d\u606f<br>\u91d1\u984d</th>"),s.push("   <th>\u7576\u6708<br>\u914d\u606f\u7387<br>(%)</th>"),s.push("   <th>\u7576\u6708<br>\u5831\u916c\u7387<br>(\u542b\u606f)%</th>"),s.push("   <th>\u5e74\u5316<br>\u914d\u606f\u7387<br>(%)</th>"),s.push(" </thead>"),s.push(n.join(" ")),s.push("</table>"),s.push("</div>"))}),$("#result-block").removeClass(),s&&s.length>0?$("#result-block").addClass("has-data").html(s.join(" ")):$("#result-block").addClass("empty-data").html("<div class='no-dividend'>\u7121\u914d\u606f\u8cc7\u6599</div>"),$("#result-block [data-role=headline]").each(function(e){var t=$(this).find(".shortname").outerHeight(!0);$(this).css("height",t)}),e.resolve()}),e.promise()}$(document).on("pageinit","#page-fund-dividend",function(e){var t=(new Date).getFullYear(),n=t-1,s=$.Deferred(),a=$.Deferred();App.StartLoading(),$(".numura-warning").loadWarning(),$("#input-keyword").val(sessionStorage.getItem("fundKeyword")),$("#select-year").empty().append($("<option>",{value:n,text:n})).append($("<option>",{value:t,text:t,selected:!0})).selectmenu("refresh",!0).val(t),$("#select-company").loadSelectFundCompany({success:function(){s.resolve("success")},failure:function(){s.reject("failure")}}),$("#select-type").loadSelectFundType({includeFundTypeAll:!1,success:function(){a.resolve("success")},failure:function(){a.reject("failure")}}),$.when(s,a).then(function(){sessionStorage.getItem("fundCompany")&&$("#select-company").val(sessionStorage.getItem("fundCompany")).selectmenu("refresh",!0),sessionStorage.getItem("fundType")&&$("#select-type").val(sessionStorage.getItem("fundType")).selectmenu("refresh",!0),sessionStorage.getItem("fundYear")&&$("#select-year").val(sessionStorage.getItem("fundYear")).selectmenu("refresh",!0)}).done(function(){App.StopLoading()})}),$(document).on("vclick",".js-fund-item",function(e){sessionStorage.setItem("fundid",$(this).data("fundid")),location.href="../html/singleFundInfo.html"}),$(document).on("vclick","#btn-submit",function(e){var t=/^[A-z0-9 \u4e00-\u9fa5]+$/,n=$("#input-keyword").val();return n.length>0&&!t.test(n)?(App.ShowAlert("\u8acb\u52ff\u8f38\u5165\u7b26\u865f\u6216\u5168\u5f62\u82f1\u6578","","\u78ba\u5b9a"),!1):(sessionStorage.setItem("fundCompany",$("#select-company").val()),sessionStorage.setItem("fundType",$("#select-type").val()),sessionStorage.setItem("fundYear",$("#select-year").val()),sessionStorage.setItem("fundKeyword",n),App.StartLoading(),void $.when(ajaxFundDividendTable()).done(function(){App.StopLoading()}))});
//# sourceMappingURL=index.min.js.map
