function ajaxLoadCompany(){var t=$.Deferred();return $.ajax({url:Constants.getFundCompanyUrl(),type:"GET"}).done(function(a){var e=_.zipObject(_.map(a,"CompanyId"),_.map(a,"CompanyShort"));sessionStorage.setItem("companyObject",JSON.stringify(e)),t.resolve()}),t.promise()}function ajaxLoadFundNetWorth(t){var a=$.Deferred(),e=JSON.parse(sessionStorage.getItem("companyObject"));console.log("companyObject",e);var n={};return n.fundcode=t.join(","),$.ajax({url:Constants.getFundNetWorthUrl(),type:"GET",data:n}).done(function(t){var n=t,o=[],s={},d=[];$.each(n,function(t,a){$.each(a.Funds,function(t,a){o.push(a)})}),console.log("fundsData",o),s=_.groupBy(o,"CompanyId"),$.each(_.keys(s),function(t,a){var n=[];$.each(s[a],function(t,a){var e=a.NetWorthDate?new Date(a.NetWorthDate).format("mm/dd"):"N/A";n.push("<tbody class='fund-item' data-fundid="+a.FundId+">"),n.push("<td class='shortname'>"+a.FundShortName+"</td>"),n.push("<td>"+a.MoneyTypeName+"</td>"),n.push("<td>"),n.push("  <div class='net-worth'>"+a.NetWorth+"</div>"),n.push("  <div class='net-worth-date'>("+e+")</div>"),n.push("</td>"),n.push("<td>"),n.push("  <span class='"+$.cxRise(a.RiseAndDecline)+"'>"+a.RiseAndDecline+"</span>"),n.push("</td>"),n.push("<td class='indicator'></td>"),n.push("</tbody>")}),d.push("<div data-role='headline'>"),d.push(" <p>"+e[a]+"</p>"),d.push("</div>"),d.push("<table data-role='table'>"),d.push(" <thead>"),d.push("   <th>\u57fa\u91d1\u540d\u7a31</th><th>\u5e63\u5225</th><th>\u6700\u65b0<br>\u6de8\u503c</th><th>\u6f32\u8dcc\u5e45</th><th></th>"),d.push(" </thead>"),d.push(n.join(" ")),d.push("</table>")}),$("#result-block").removeClass(),d&&d.length>0?$("#result-block").addClass("has-data").html(d.join(" ")):$("#result-block").html("<div class='no-result'>\u76ee\u524d\u6c92\u6709\u5df2\u52a0\u5165\u6700\u611b\u7684\u57fa\u91d1\u3002</div>"),a.resolve()}),a.promise()}function listFavoriteCallback(t){var a=t||[];ajaxLoadCompany().done(function(){ajaxLoadFundNetWorth(a).done(function(){App.StopLoading()})})}$(document).on("vclick",".fund-item",function(t){sessionStorage.setItem("fundid",$(this).data("fundid")),location.href="../html/singleFundInfo.html"}),$(document).on("pageinit","#page-fund-fav",function(t){App.StartLoading(),$(".numura-warning").loadWarning(),setTimeout(App.ListFavorite(),3e3)});
//# sourceMappingURL=index.min.js.map
